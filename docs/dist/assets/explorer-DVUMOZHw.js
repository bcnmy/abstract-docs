import{r as O,j as e,u as N}from"./index-ZQOw4TQ3.js";import{u as R}from"./codeblock-D2ZsqJVx.js";const B={method:"eth_estimateUserOperationGas",params:[{sender:"0x0000000000000000000000000000000000000000",nonce:"0x0",initCode:"0x",callData:"0x",signature:"0x00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000001c5b32F37F5beA87BDD5374eB2aC54eA8e000000000000000000000000000000000000000000000000000000000000004181d4b4981670cb18f99f0b4a66446df1bf5b204d24cfcb659bf38ba27a4359b5711649ec2423c5e1247245eba2964679b6a1dbb85c992ae40b9b00c6935b02ff1b00000000000000000000000000000000000000000000000000000000000000",paymasterAndData:"0x"},"0x5ff137d4b0fdcd49dca30c7cf57e578a026d2789"],id:1697033406,jsonrpc:"2.0"},q={method:"eth_sendUserOperation",params:[{sender:"0x0000000000000000000000000000000000000000",nonce:"0x0",initCode:"0x",callData:"0x",maxFeePerGas:"0x",maxPriorityFeePerGas:"0",verificationGasLimit:"0x",callGasLimit:"0x",preVerificationGas:"0",paymasterAndData:"0x",signature:"0x"},"0x5ff137d4b0fdcd49dca30c7cf57e578a026d2789",{simulation_type:"validation"}],id:1697033407,jsonrpc:"2.0"},F={method:"eth_getUserOperationReceipt",params:["0x"],id:1693369916,jsonrpc:"2.0"},G={method:"eth_getUserOperationByHash",params:["0x"],id:1693369916,jsonrpc:"2.0"},L={method:"eth_chainId",params:[],id:1693369916,jsonrpc:"2.0"},P={method:"eth_supportedEntryPoints",params:[],id:1693369916,jsonrpc:"2.0"},E={method:"biconomy_getGasFeeValues",params:[],id:1697033314,jsonrpc:"2.0"},I={method:"biconomy_getUserOperationStatus",params:["0x"],id:1693369916,jsonrpc:"2.0"},f={eth_estimateUserOperationGas:B,eth_sendUserOperation:q,eth_getUserOperationReceipt:F,eth_getUserOperationByHash:G,eth_chainId:L,eth_supportedEntryPoints:P,biconomy_getGasFeeValues:E,biconomy_getUserOperationStatus:I};function M(){const[i,t]=O.useState(null),[m,p]=O.useState(null),{register:o,handleSubmit:x,watch:S,formState:{errors:r}}=R(),d=S("method"),j=s=>{const c=/https:\/\/bundler\.biconomy\.io\/api\/v2\/(\d+)\/.+/,a=s.match(c);if(a!=null&&a[1]){const l=Number.parseInt(a[1],10),n=[1,80002,137,97,56,1442,1101,42161,42170,420,10,43113,43114,84531,8453,59140,59144,5e3,5001,204,5611,88888,592,88882,81,1115,1116,169,3441005,91715,9980,421614,11155111,84532,168587773,80085,81457,534351,534352,56400,7e3,11155420].includes(l);if(n)return!0;if(!n)return"Only testnet chains are allowed in explorer"}return"Bundler URL incorrect"},U=s=>{try{return JSON.parse(s??"{}"),!0}catch{return"Invalid JSON object please check the entered UserOp"}},_=["eth_getUserOperationReceipt","eth_getUserOperationByHash","biconomy_getUserOperationStatus"],y=["eth_chainId","eth_supportedEntryPoints","biconomy_getGasFeeValues"],g=["eth_estimateUserOperationGas","eth_sendUserOperation"],b=s=>{if(g.includes(s.method)){const c=JSON.parse(s.userOp),a={method:`${s.method}`,params:[{...c},"0x5ff137d4b0fdcd49dca30c7cf57e578a026d2789"],id:1697033406,jsonrpc:"2.0"},l=JSON.stringify(a,null,2);p(l);const h=new Headers;h.append("Content-Type","application/json");const n={method:"POST",headers:h,body:l};fetch(s.bundlerUrl,n).then(u=>u.json()).then(u=>t(u)).catch(u=>t(u))}else if(_.includes(s.method)){const c={method:`${s.method}`,params:[s.userOphash],id:1693369916,jsonrpc:"2.0"},a=JSON.stringify(c,null,2);p(a);const l=new Headers;l.append("Content-Type","application/json");const h={method:"POST",headers:l,body:a};fetch(s.bundlerUrl,h).then(n=>n.json()).then(n=>t(n)).catch(n=>t(n))}else if(y.includes(s.method)){const c={method:`${s.method}`,params:[],id:1693369916,jsonrpc:"2.0"},a=JSON.stringify(c,null,2);p(a);const l=new Headers;l.append("Content-Type","application/json");const h={method:"POST",headers:l,body:a};fetch(s.bundlerUrl,h).then(n=>n.json()).then(n=>t(n)).catch(n=>t(n))}};return O.useEffect(()=>{const s=JSON.stringify(f.eth_estimateUserOperationGas,null,2);p(s)},[]),O.useEffect(()=>{console.log(d);const s=JSON.stringify(f[d],null,2);p(s)},[d]),console.log(d),d?e.jsxs("div",{children:[e.jsxs("div",{className:"requestContainer",children:[e.jsxs("div",{className:"formContainer",children:[e.jsx("h2",{children:"Edit Request"}),_.includes(d)&&e.jsxs("form",{onSubmit:x(b),children:[e.jsx("label",{className:"inputLabel",children:"Method"}),e.jsxs("select",{...o("method",{required:!0}),className:"inputField",children:[e.jsx("option",{value:"eth_estimateUserOperationGas",children:"eth_estimateUserOperationGas"}),e.jsx("option",{value:"eth_sendUserOperation",children:"eth_sendUserOperation"}),e.jsx("option",{value:"eth_getUserOperationReceipt",children:"eth_getUserOperationReceipt"}),e.jsx("option",{value:"eth_getUserOperationByHash",children:"eth_getUserOperationByHash"}),e.jsx("option",{value:"eth_chainId",children:"eth_chainId"}),e.jsx("option",{value:"eth_supportedEntryPoints",children:"eth_supportedEntryPoints"}),e.jsx("option",{value:"biconomy_getGasFeeValues",children:"biconomy_getGasFeeValues"}),e.jsx("option",{value:"biconomy_getUserOperationStatus",children:"biconomy_getUserOperationStatus"})]}),e.jsx("label",{className:"inputLabel",children:"Bundler URL"}),e.jsx("input",{...o("bundlerUrl",{required:"Bundler URL is required",validate:s=>j(s)}),type:"text",placeholder:"Bundler URL",className:"inputField"}),r.bundlerUrl&&e.jsx("p",{className:"errorMsg",children:r.bundlerUrl.message}),e.jsx("label",{className:"inputLabel",children:"UserOphash"}),e.jsx("input",{...o("userOphash",{required:"UserOphash is required"}),type:"text",placeholder:"UserOphash Hash",className:"inputField"}),r.userOp&&e.jsx("p",{className:"errorMsg",children:r.userOp.message}),e.jsx("button",{type:"submit",className:"submitButton",children:"Submit"})]}),g.includes(d)&&e.jsxs("form",{onSubmit:x(b),children:[e.jsx("label",{className:"inputLabel",children:"Method"}),e.jsxs("select",{...o("method",{required:!0}),className:"inputField",children:[e.jsx("option",{value:"eth_estimateUserOperationGas",children:"eth_estimateUserOperationGas"}),e.jsx("option",{value:"eth_sendUserOperation",children:"eth_sendUserOperation"}),e.jsx("option",{value:"eth_getUserOperationReceipt",children:"eth_getUserOperationReceipt"}),e.jsx("option",{value:"eth_getUserOperationByHash",children:"eth_getUserOperationByHash"}),e.jsx("option",{value:"eth_chainId",children:"eth_chainId"}),e.jsx("option",{value:"eth_supportedEntryPoints",children:"eth_supportedEntryPoints"}),e.jsx("option",{value:"biconomy_getGasFeeValues",children:"biconomy_getGasFeeValues"}),e.jsx("option",{value:"biconomy_getUserOperationStatus",children:"biconomy_getUserOperationStatus"})]}),e.jsx("label",{className:"inputLabel",children:"Bundler URL"}),e.jsx("input",{...o("bundlerUrl",{required:"Bundler URL is required",validate:s=>j(s)}),type:"text",placeholder:"Bundler URL",className:"inputField"}),r.bundlerUrl&&e.jsx("p",{className:"errorMsg",children:r.bundlerUrl.message}),e.jsx("label",{className:"inputLabel",children:"UserOp"}),e.jsx("textarea",{...o("userOp",{required:"UserOp object is required",validate:s=>U(s)}),placeholder:"UserOp Object",className:"inputField",rows:5}),r.userOp&&e.jsx("p",{className:"errorMsg",children:r.userOp.message}),e.jsx("button",{type:"submit",className:"submitButton",children:"Submit"})]}),y.includes(d)&&e.jsxs("form",{onSubmit:x(b),children:[e.jsx("label",{className:"inputLabel",children:"Method"}),e.jsxs("select",{...o("method",{required:!0}),className:"inputField",children:[e.jsx("option",{value:"eth_estimateUserOperationGas",children:"eth_estimateUserOperationGas"}),e.jsx("option",{value:"eth_sendUserOperation",children:"eth_sendUserOperation"}),e.jsx("option",{value:"eth_getUserOperationReceipt",children:"eth_getUserOperationReceipt"}),e.jsx("option",{value:"eth_getUserOperationByHash",children:"eth_getUserOperationByHash"}),e.jsx("option",{value:"eth_chainId",children:"eth_chainId"}),e.jsx("option",{value:"eth_supportedEntryPoints",children:"eth_supportedEntryPoints"}),e.jsx("option",{value:"biconomy_getGasFeeValues",children:"biconomy_getGasFeeValues"}),e.jsx("option",{value:"biconomy_getUserOperationStatus",children:"biconomy_getUserOperationStatus"})]}),e.jsx("label",{className:"inputLabel",children:"Bundler URL"}),e.jsx("input",{...o("bundlerUrl",{required:"Bundler URL is required",validate:s=>j(s)}),type:"text",placeholder:"Bundler URL",className:"inputField"}),r.bundlerUrl&&e.jsx("p",{className:"errorMsg",children:r.bundlerUrl.message}),r.userOp&&e.jsx("p",{className:"errorMsg",children:r.userOp.message}),e.jsx("button",{type:"submit",className:"submitButton",children:"Submit"})]})]}),m&&e.jsxs("div",{children:[e.jsx("h2",{children:"Sample Request"}),e.jsx("pre",{children:e.jsx("code",{className:"hljs bundlerRequestBlock",children:m})})]})]}),i&&e.jsxs("div",{children:[e.jsx("h2",{children:"Sample Response"}),e.jsx("pre",{children:e.jsx("code",{className:"hljs bundlerRequestBlock",children:`${JSON.stringify(i,null,2)}`})})]})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"requestContainer",children:[e.jsxs("div",{className:"formContainer",children:[e.jsx("h2",{children:"Edit Request"}),e.jsxs("form",{onSubmit:x(b),children:[e.jsx("label",{className:"inputLabel",children:"Method"}),e.jsxs("select",{...o("method",{required:!0}),className:"inputField",children:[e.jsx("option",{value:"eth_estimateUserOperationGas",children:"eth_estimateUserOperationGas"}),e.jsx("option",{value:"eth_sendUserOperation",children:"eth_sendUserOperation"}),e.jsx("option",{value:"eth_getUserOperationReceipt",children:"eth_getUserOperationReceipt"}),e.jsx("option",{value:"eth_getUserOperationByHash",children:"eth_getUserOperationByHash"}),e.jsx("option",{value:"eth_chainId",children:"eth_chainId"}),e.jsx("option",{value:"eth_supportedEntryPoints",children:"eth_supportedEntryPoints"}),e.jsx("option",{value:"biconomy_getGasFeeValues",children:"biconomy_getGasFeeValues"}),e.jsx("option",{value:"biconomy_getUserOperationStatus",children:"biconomy_getUserOperationStatus"})]}),e.jsx("label",{className:"inputLabel",children:"Bundler URL"}),e.jsx("input",{...o("bundlerUrl",{required:"Bundler URL is required",validate:s=>j(s)}),type:"text",placeholder:"Bundler URL",className:"inputField"}),r.bundlerUrl&&e.jsx("p",{className:"errorMsg",children:r.bundlerUrl.message}),e.jsx("label",{className:"inputLabel",children:"UserOp"}),e.jsx("textarea",{...o("userOp",{required:"UserOp object is required",validate:s=>U(s)}),placeholder:"UserOp Object",className:"inputField",rows:5}),r.userOp&&e.jsx("p",{className:"errorMsg",children:r.userOp.message}),e.jsx("button",{type:"submit",className:"submitButton",children:"Submit"})]})]}),m&&e.jsxs("div",{children:[e.jsx("h2",{children:"Sample Request"}),e.jsx("pre",{children:e.jsx("code",{className:"hljs",children:m})})]})]}),i&&e.jsxs("div",{children:[e.jsx("h2",{children:"Sample Response"}),e.jsx("pre",{children:e.jsx("code",{className:"hljs",children:`${JSON.stringify(i,null,2)}`})})]})]})}const C={title:"Bundler API Explorer",description:"undefined"};function v(i){const t={a:"a",aside:"aside",div:"div",h1:"h1",header:"header",p:"p",...N(),...i.components};return e.jsxs(e.Fragment,{children:[e.jsx(t.header,{children:e.jsxs(t.h1,{id:"bundler-api-explorer",children:["Bundler API Explorer",e.jsx(t.a,{"aria-hidden":"true",tabIndex:"-1",href:"#bundler-api-explorer",children:e.jsx(t.div,{"data-autolink-icon":!0})})]})}),`
`,`
`,e.jsxs(t.aside,{"data-callout":"info",children:[e.jsxs(t.p,{children:["You will need a Bundler URL from your ",e.jsx(t.a,{href:"https://dashboard.biconomy.io/",children:"dashboard"})," to use the explorer. Create a userOp and paste it below to begin"]}),e.jsx(t.p,{children:"Please note that the explorer supports the following methods: eth_estimateUserOperationGas, eth_sendUserOperation, eth_getUserOperationReceipt. For complete API specs click here."})]}),`
`,e.jsx(M,{})]})}function V(i={}){const{wrapper:t}={...N(),...i.components};return t?e.jsx(t,{...i,children:e.jsx(v,{...i})}):v(i)}export{V as default,C as frontmatter};
