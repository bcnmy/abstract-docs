import{u as r,j as e}from"./index-ZQOw4TQ3.js";const t={title:"Smart Session Policies",description:"undefined"};function n(s){const i={a:"a",code:"code",div:"div",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...r(),...s.components};return e.jsxs(e.Fragment,{children:[e.jsx(i.header,{children:e.jsxs(i.h1,{id:"smart-session-policies",children:["Smart Session Policies",e.jsx(i.a,{"aria-hidden":"true",tabIndex:"-1",href:"#smart-session-policies",children:e.jsx(i.div,{"data-autolink-icon":!0})})]})}),`
`,e.jsx(i.p,{children:"Smart Sessions provide a powerful way to delegate specific permissions to session keys with fine-grained control. These policies act as a security framework that allows you to precisely define what actions session keys can perform, under what conditions, and for how long."}),`
`,e.jsxs(i.h2,{id:"what-are-smart-session-policies",children:["What are Smart Session Policies?",e.jsx(i.a,{"aria-hidden":"true",tabIndex:"-1",href:"#what-are-smart-session-policies",children:e.jsx(i.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(i.p,{children:"Smart Session policies are rules and constraints that govern:"}),`
`,e.jsxs(i.ul,{children:[`
`,e.jsx(i.li,{children:"Which contract functions can be called"}),`
`,e.jsx(i.li,{children:"What parameters are allowed"}),`
`,e.jsx(i.li,{children:"How much value can be transferred"}),`
`,e.jsx(i.li,{children:"When the permissions are valid"}),`
`,e.jsx(i.li,{children:"Which blockchain networks are authorized"}),`
`]}),`
`,e.jsx(i.p,{children:"These policies enable secure delegation of account capabilities while maintaining strict control over potential risks."}),`
`,e.jsxs(i.h2,{id:"key-benefits",children:["Key Benefits",e.jsx(i.a,{"aria-hidden":"true",tabIndex:"-1",href:"#key-benefits",children:e.jsx(i.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(i.ul,{children:[`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"üîê Enhanced Security"}),": Grant minimal permissions required for specific operations"]}),`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"‚ö° Better UX"}),": Enable seamless interactions without compromising security"]}),`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"üéØ Precise Control"}),": Define exact conditions under which operations can occur"]}),`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"‚è±Ô∏è Time-Bound Access"}),": Automatically expire permissions after a set duration"]}),`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"üåê Cross-Chain Safety"}),": Specify which networks permissions are valid on"]}),`
`]}),`
`,e.jsxs(i.h2,{id:"policy-components",children:["Policy Components",e.jsx(i.a,{"aria-hidden":"true",tabIndex:"-1",href:"#policy-components",children:e.jsx(i.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(i.p,{children:"Each policy consists of several potential components:"}),`
`,e.jsxs(i.ul,{children:[`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"Contract Address"}),": The target smart contract"]}),`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"Function Selectors"}),": Specific functions that can be called"]}),`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"Rules"}),": Parameter-level constraints"]}),`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"Time Bounds"}),": Valid duration for the permissions"]}),`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"Value Limits"}),": Maximum amounts that can be transferred"]}),`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"Network Restrictions"}),": Specific blockchain networks where the policy is valid"]}),`
`]}),`
`,e.jsxs(i.h2,{id:"session-creation-parameters",children:["Session Creation Parameters",e.jsx(i.a,{"aria-hidden":"true",tabIndex:"-1",href:"#session-creation-parameters",children:e.jsx(i.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(i.h3,{id:"session-creation-parameters-1",children:["Session Creation Parameters",e.jsx(i.a,{"aria-hidden":"true",tabIndex:"-1",href:"#session-creation-parameters-1",children:e.jsx(i.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(i.table,{children:[e.jsx(i.thead,{children:e.jsxs(i.tr,{children:[e.jsx(i.th,{children:"Property"}),e.jsx(i.th,{children:"Type"}),e.jsx(i.th,{children:"Required"}),e.jsx(i.th,{children:"Description"})]})}),e.jsxs(i.tbody,{children:[e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"sessionPublicKey"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"Hex"})}),e.jsx(i.td,{children:"Yes"}),e.jsx(i.td,{children:"Public key for the session (required for K1 algorithm validators)"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"sessionValidatorAddress"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"Address"})}),e.jsx(i.td,{children:"No"}),e.jsx(i.td,{children:"Address of the session validator"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"sessionValidatorType"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"string"})}),e.jsx(i.td,{children:"No"}),e.jsx(i.td,{children:'Type of the session validator (usually "simple K1 validator")'})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"salt"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"Hex"})}),e.jsx(i.td,{children:"No"}),e.jsx(i.td,{children:"Optional salt for the session"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"sessionValidUntil"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"number"})}),e.jsx(i.td,{children:"No"}),e.jsx(i.td,{children:"Timestamp until which the session is valid"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"sessionValidAfter"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"number"})}),e.jsx(i.td,{children:"No"}),e.jsx(i.td,{children:"Timestamp after which the session becomes valid"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"chainIds"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"bigint[]"})}),e.jsx(i.td,{children:"No"}),e.jsx(i.td,{children:"Chain IDs where the session should be enabled"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"actionPoliciesInfo"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"ActionPolicyInfo[]"})}),e.jsx(i.td,{children:"Yes"}),e.jsx(i.td,{children:"Array of action policy data for the session"})]})]})]}),`
`,e.jsxs(i.h3,{id:"action-policy-configuration",children:["Action Policy Configuration",e.jsx(i.a,{"aria-hidden":"true",tabIndex:"-1",href:"#action-policy-configuration",children:e.jsx(i.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(i.table,{children:[e.jsx(i.thead,{children:e.jsxs(i.tr,{children:[e.jsx(i.th,{children:"Property"}),e.jsx(i.th,{children:"Type"}),e.jsx(i.th,{children:"Required"}),e.jsx(i.th,{children:"Description"})]})}),e.jsxs(i.tbody,{children:[e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"contractAddress"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"Address"})}),e.jsx(i.td,{children:"Yes"}),e.jsx(i.td,{children:"The smart contract address this policy applies to"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"validUntil"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"number"})}),e.jsx(i.td,{children:"No"}),e.jsx(i.td,{children:"Timestamp when the session expires"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"validAfter"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"number"})}),e.jsx(i.td,{children:"No"}),e.jsx(i.td,{children:"Timestamp when the session becomes active"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"valueLimit"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"bigint"})}),e.jsx(i.td,{children:"No"}),e.jsx(i.td,{children:"Maximum amount of native tokens (ETH) per transaction"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"tokenLimits"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"Array<TokenLimit>"})}),e.jsx(i.td,{children:"No"}),e.jsx(i.td,{children:"Array of ERC20 token spending limits"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"usageLimit"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"bigint"})}),e.jsx(i.td,{children:"No"}),e.jsx(i.td,{children:"Maximum number of times this policy can be used"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"sudo"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"boolean"})}),e.jsx(i.td,{children:"No"}),e.jsx(i.td,{children:"If true, grants unlimited permissions (not compatible with rules)"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"functionSelector"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"string"})}),e.jsx(i.td,{children:"One of these required"}),e.jsx(i.td,{children:"Specific function to allow"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"rules"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"Rule[]"})}),e.jsx(i.td,{children:"One of these required"}),e.jsx(i.td,{children:"Array of parameter rules"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"abi"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"Abi"})}),e.jsx(i.td,{children:"One of these required"}),e.jsx(i.td,{children:"Full contract ABI"})]})]})]}),`
`,e.jsxs(i.h3,{id:"parameter-conditions",children:["Parameter Conditions",e.jsx(i.a,{"aria-hidden":"true",tabIndex:"-1",href:"#parameter-conditions",children:e.jsx(i.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(i.table,{children:[e.jsx(i.thead,{children:e.jsxs(i.tr,{children:[e.jsx(i.th,{children:"Condition"}),e.jsx(i.th,{children:"Value"}),e.jsx(i.th,{children:"Description"})]})}),e.jsxs(i.tbody,{children:[e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"EQUAL"})}),e.jsx(i.td,{children:"0"}),e.jsx(i.td,{children:"Exact match comparison"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"GREATER_THAN"})}),e.jsx(i.td,{children:"1"}),e.jsx(i.td,{children:"Value must be greater than reference"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"LESS_THAN"})}),e.jsx(i.td,{children:"2"}),e.jsx(i.td,{children:"Value must be less than reference"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"GREATER_THAN_OR_EQUAL"})}),e.jsx(i.td,{children:"3"}),e.jsx(i.td,{children:"Value must be greater than or equal to reference"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"LESS_THAN_OR_EQUAL"})}),e.jsx(i.td,{children:"4"}),e.jsx(i.td,{children:"Value must be less than or equal to reference"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"NOT_EQUAL"})}),e.jsx(i.td,{children:"5"}),e.jsx(i.td,{children:"Value must not match reference"})]})]})]}),`
`,e.jsxs(i.h3,{id:"rule-configuration",children:["Rule Configuration",e.jsx(i.a,{"aria-hidden":"true",tabIndex:"-1",href:"#rule-configuration",children:e.jsx(i.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(i.table,{children:[e.jsx(i.thead,{children:e.jsxs(i.tr,{children:[e.jsx(i.th,{children:"Property"}),e.jsx(i.th,{children:"Type"}),e.jsx(i.th,{children:"Required"}),e.jsx(i.th,{children:"Description"})]})}),e.jsxs(i.tbody,{children:[e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"condition"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"ParamCondition"})}),e.jsx(i.td,{children:"Yes"}),e.jsx(i.td,{children:"Type of comparison to perform"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"offsetIndex"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"number"})}),e.jsx(i.td,{children:"Yes"}),e.jsx(i.td,{children:"Position of parameter in calldata"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"isLimited"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"boolean"})}),e.jsx(i.td,{children:"Yes"}),e.jsx(i.td,{children:"Whether to track usage count"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"ref"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"string | number | bigint"})}),e.jsx(i.td,{children:"Yes"}),e.jsx(i.td,{children:"Value to compare against"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"usage"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"Usage"})}),e.jsxs(i.td,{children:["If ",e.jsx(i.code,{children:"isLimited"})," is true"]}),e.jsx(i.td,{children:"Usage tracking configuration"})]})]})]}),`
`,e.jsxs(i.h3,{id:"usage-configuration",children:["Usage Configuration",e.jsx(i.a,{"aria-hidden":"true",tabIndex:"-1",href:"#usage-configuration",children:e.jsx(i.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(i.table,{children:[e.jsx(i.thead,{children:e.jsxs(i.tr,{children:[e.jsx(i.th,{children:"Property"}),e.jsx(i.th,{children:"Type"}),e.jsx(i.th,{children:"Description"})]})}),e.jsxs(i.tbody,{children:[e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"limit"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"bigint"})}),e.jsx(i.td,{children:"Maximum number of times this rule can be used"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"used"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"bigint"})}),e.jsx(i.td,{children:"Current usage count (typically starts at 0)"})]})]})]}),`
`,e.jsxs(i.h3,{id:"token-limit-structure",children:["Token Limit Structure",e.jsx(i.a,{"aria-hidden":"true",tabIndex:"-1",href:"#token-limit-structure",children:e.jsx(i.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(i.table,{children:[e.jsx(i.thead,{children:e.jsxs(i.tr,{children:[e.jsx(i.th,{children:"Property"}),e.jsx(i.th,{children:"Type"}),e.jsx(i.th,{children:"Description"})]})}),e.jsxs(i.tbody,{children:[e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"token"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"Address"})}),e.jsx(i.td,{children:"Token contract address"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"limit"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"bigint"})}),e.jsx(i.td,{children:"Maximum amount that can be spent"})]})]})]}),`
`,e.jsxs(i.h2,{id:"best-practices",children:["Best Practices",e.jsx(i.a,{"aria-hidden":"true",tabIndex:"-1",href:"#best-practices",children:e.jsx(i.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(i.ol,{children:[`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"Principle of Least Privilege"}),": Always grant the minimum permissions necessary."]}),`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"Time Constraints"}),": Consider adding time range policies to limit session duration."]}),`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"Combine Policies"}),": Use multiple policies together for enhanced security."]}),`
`]})]})}function c(s={}){const{wrapper:i}={...r(),...s.components};return i?e.jsx(i,{...s,children:e.jsx(n,{...s})}):n(s)}export{c as default,t as frontmatter};
