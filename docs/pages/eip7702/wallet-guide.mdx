# EIP7702 Integration Guide for Wallets

## Intro, Why EIP7702
EIP7702 is an upcoming upgrade to Ethereum and EVM blockchains which enables
wallets to convert the user EOA wallets into [Smart Accounts]()

With EIP7702, wallets can drastically improve the UX for their users by offering smart
account features, such as:

- The ability to pay for gas with ERC20 tokens
- The ability to batch execute transactions with a single signature
- The ability to recover user accounts, either through social recovery or timelocked
recovery solutions

At Biconomy, we have built the most comprehensive EIP7702 solution on the market, enabling
wallets to add all of the above mentioned features, as well as many advanced - Biconomy 
stack specific features:

- The ability to unify user balances across chains
- The ability to pay for gas across chains (e.g. pay for tx on Optimism with USDC on Arbitrum)
- The ability to nativelly schedule transactions (e.g. execute five minutes from now)
- The ability to nativelly set repeating tranasactions (e.g. execute every 10 minutes)

:::info
If you're a wallet team looking for an EIP7702 strategy - [Contact Us](https://google.com)
:::

## Quickstart Guide for Developers

::::steps
#### Install Packages
Install `AbstractJS` TypeScript SDK and viem 

```bash
npm install @biconomy/abstractjs viem
```

#### Sign a wallet authorization
In order add Smart Account capabilities to an EOA account, you must sign an authorization specifying which
Smart Account address will be "installed" on the EOA address. In order to save on gas costs, you will be setting
the authorization to a singleton contract - which means that no new contracts will need to be deployed.  


```ts
// This is the address of the EOA to which 
// address we'll be "installing" the smart account to.
const eoa = privateKeyToAccount('0xPrivateKey')

// Create an instance of a viem wallet client and extend it with the 
// required eip7702 actions.
const walletClient = createWalletClient({
  chain: odysseyTestnet,
  account: eoa,
  transport: http(),
}).extend(eip7702Actions())

const authorization = await walletClient.signAuthorization({
  // Address of the Nexus Proxy Singleton
  contractAddress: nexusProxyAddress 
})
```

#### Choose your execution environment

With `AbstractJS` and the Biconomy stack, developers can choose whether to 
push transactions through our battle-tested [ERC4337 Bundler/Paymaster stack]() *or*
through our innovative multi-chain [MEE Stack]()
::::

## Execute through the ERC4337 Bundler/Paymaster Stack

## Execute through the MEE Stack

::::steps
#### Follow tutorial

Follow all the instructions for authorizing Nexus as your Smart Account at
the beginning of this tutorial.

#### Initialize the Modular Execution Environment

```ts
const meeClient = createMeeClient({
  nodeUrl: 'https://mee-node.biconomy.io'
})
```

#### Set up the Smart Account
Initialize the Smart Account you will be using for delegation. In this case, we'll
be using Biconomy Nexus.

```ts
const account = await toMultichainNexusAccount({
  chains: [odysseyTestnet],
  signer: eoa,
  // Override the address of the account to the EOA address
  accountAddress: eoa.address
})
```

#### Execute a Supertransaction

```ts
const quote = await getQuote(meeClient, {
  instructions: [
    {
      calls: [
        { to: zeroAddress, gasLimit: 100_000n, value: 0n }
      ],
      chainId: optimism.id
    }
  ],
  feeToken: mcUSDC.on(optimism.id)
})

const hash = await executeQuote(meeSerivice, quote)
```

::::





