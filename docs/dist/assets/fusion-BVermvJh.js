import{u as a,j as s}from"./index-ZQOw4TQ3.js";const l={title:"Use EOAs Like Smart Accounts",description:"undefined"};function i(n){const e={a:"a",aside:"aside",code:"code",div:"div",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...a(),...n.components};return s.jsxs(s.Fragment,{children:[s.jsx(e.header,{children:s.jsxs(e.h1,{id:"use-eoas-like-smart-accounts",children:["Use EOAs Like Smart Accounts",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#use-eoas-like-smart-accounts",children:s.jsx(e.div,{"data-autolink-icon":!0})})]})}),`
`,s.jsxs(e.p,{children:[`Biconomy has developed a unique solution on the market enabling developers
to `,s.jsx(e.strong,{children:"batch execute transactions"}),", execute ",s.jsx(e.strong,{children:"cross-chain transactions"})," and ",s.jsx(e.strong,{children:"trigger intents"}),`
for users with EOAs `,s.jsx(e.strong,{children:"without upgrading them to smart wallets"})]}),`
`,s.jsx(e.p,{children:`This feature is available for regular users with EOA wallets (such as MetaMask) - without any
protocol upgrades and without moving users to Smart Accounts. Instant onboarding, zero compromises.`}),`
`,s.jsxs(e.p,{children:["If you want to know how the Fusion Module works under the hood, ",s.jsx(e.a,{href:"#advanced-how-does-the-fusion-module-work",children:"read the technical explanation"})]}),`
`,s.jsxs(e.aside,{"data-callout":"tip",children:[s.jsx(e.strong,{"data-callout-title":!0,children:"Read about our Research"}),s.jsxs(e.p,{children:["If you want to learn how Fusion Transactions work under the hood, read the ",s.jsx(e.a,{href:"advanced-how-does-the-fusion-module-work",children:"explanation"})]}),s.jsx(e.hr,{}),s.jsxs(e.p,{children:["To get an in-depth overview of the Fusion architecture, read our post on ",s.jsx(e.a,{href:"https://ethresear.ch/t/fusion-module-7702-alternative-with-no-protocol-changes/20949",children:"Ethereum Research"})]})]}),`
`,s.jsxs(e.aside,{"data-callout":"info",children:[s.jsx(e.strong,{"data-callout-title":!0,children:"Fusion and EIP7702"}),s.jsxs(e.p,{children:["Fusion Transactions are ",s.jsx(e.strong,{children:"100%"}),` compatible with EIP7702 accounts. In fact, we recommend using Fusion Transactions
as the ideal solutions for apps interacting with both regular and EIP7702 enabled EOAs!`]}),s.jsx(e.hr,{}),s.jsxs(e.p,{children:["Since ",s.jsx(e.em,{children:"only wallets"}),` will be able to upgrade users to EIP7702 accounts, the developers will be limited by the
features provided by the wallets. These will primarily include gasless execution and batch transactions. Additionally - Most
apps will have a blend of users with and without EIP7702 enabled wallets.`]}),s.jsxs(e.p,{children:["The ",s.jsx(e.code,{children:"executeFusionTransaction"})," function in the ",s.jsx(e.code,{children:"AbstractJS"}),` SDK will be able to intelligently switch between using
EIP7702 exection and regular EOA execution. This means that apps using Fusion transactions will get:`]}),s.jsxs(e.ul,{children:[`
`,s.jsx(e.li,{children:"Same codebase for both EIP7702 enabled and regular EOA users!"}),`
`,s.jsx(e.li,{children:"Additional features offered by Smart Accounts (cross-chain gas sharing, smart sessions, resource locks, ...)"}),`
`]})]}),`
`,s.jsxs(e.h2,{id:"single-signature-approve--execute-for-eoas",children:["Single Signature Approve + Execute for EOAs",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#single-signature-approve--execute-for-eoas",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.p,{children:["One of the biggest pain points of using EOAs is the requirement to sign two separate transactions ",s.jsx(e.code,{children:"approve"})," and ",s.jsx(e.code,{children:"execute"}),`,
when interacting with a smart contract. Here, we will demonstrate how to supply to AAVE - a transaction which would
usually require two signatures - with just one signature from the user:`]}),`
`,s.jsxs(e.div,{"data-vocs-steps":"true",children:[s.jsxs(e.div,{"data-depth":"4",children:[s.jsxs(e.h4,{id:"define-an-amount-to-be-used-by-the-fusion-transaction",children:["Define an Amount to be Used by the Fusion Transaction",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#define-an-amount-to-be-used-by-the-fusion-transaction",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),s.jsxs(e.p,{children:["Every Fusion Transaction has an exact amount of some ",s.jsx(e.code,{children:"ERC20"}),` token that it will use. This is usually the amount
that you want to do an action with. In this example, this amount will be the amount that we want to supply to
AAVE`]}),s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsx(e.code,{children:s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"const"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" amountToSupply"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" ="}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" parseUnits"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:"'100'"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"6"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") "}),s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"// 100 USDC"})]})})})]}),s.jsxs(e.div,{"data-depth":"4",children:[s.jsxs(e.h4,{id:"encode-an-approve-call",children:["Encode an Approve Call",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#encode-an-approve-call",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),s.jsxs(e.p,{children:["We will use the ",s.jsx(e.code,{children:"MultichainSmartContract"})," utilities in ",s.jsx(e.code,{children:"AbstractJS"}),` to encode
an approval for AAVE v3 Pool on Optimism to spend the users USDC`]}),s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0","data-title":"Encode ERC20 Approve Call","data-lang":"ts",children:s.jsxs(e.code,{children:[s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"const"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" approve"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" ="}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" mcUSDC."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"on"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(optimism.id)."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"approve"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"({"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"  args: ["})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    mcAaveV3Pool."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"addressOn"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(optimism.id), "}),s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"// approve to aave v3 pool contract"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    amountToSupply "}),s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"// amount approved"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"  ],"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"  gasLimit: "}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"150_000"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"n"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}),"})})]})})]}),s.jsxs(e.div,{"data-depth":"4",children:[s.jsxs(e.h4,{id:"encode-a-supply-call",children:["Encode a Supply Call",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#encode-a-supply-call",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),s.jsx(e.p,{children:`We'll use the same utilities to encode a supply call to the
AAVE v3 Contract`}),s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0","data-title":"Encode a Supply Call","data-lang":"ts",children:s.jsxs(e.code,{children:[s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"const"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" supply"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" ="}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" mcAaveV3Pool."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"on"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(optimism.id)."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"supply"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"({"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"  args: ["})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    mcUSDC."}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"addressOn"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(optimism.id), "}),s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"// asset to supply"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    amountToSupply, "}),s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"// amount being supplied,"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    mcNexus.signer.address, "}),s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"// benficiary - our EOA address"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"    0"}),s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:" // refferal code"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"  ],"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"  gasLimit: "}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"150_000"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"n"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"})"})})]})})]}),s.jsxs(e.div,{"data-depth":"4",children:[s.jsxs(e.h4,{id:"encode-a-fusion-transaction",children:["Encode a Fusion Transaction",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#encode-a-fusion-transaction",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),s.jsxs(e.p,{children:["Now, we will use the ",s.jsx(e.code,{children:"AbstractJS"})," - ",s.jsx(e.code,{children:"encodeFusionTransacton"}),` function call combine the approve +
execute into a single transaction. This function will call the `,s.jsx(e.code,{children:"signer"})," from the ",s.jsx(e.code,{children:"mcNexus"}),` account,
use it to sign the `,s.jsx(e.a,{href:"",children:"Fusion Transaction"})," and commit the transaction onchain."]}),s.jsxs(e.p,{children:["It will also pass the additional instructions to the ",s.jsx(e.a,{href:"",children:"Biconomy Superbundler"}),` which will then
execute the transaction.`]}),s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(e.code,{children:[s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"const"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" { "}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"hash"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" } "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"="}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" "})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"  await"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" executeFusionTransaction"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(meeClient, {"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    chain: optimism, "}),s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"// Chain where the transaction is executed"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    account: mcNexus, "}),s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"// Companion Smart Account"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    token: mcUSDC, "}),s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"// token used by the Fusion Transaction"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    amountUsed: amountToSupply, "}),s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"// Amount of `token` used by the Fusion Transaction"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    instructions: [ "})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"      approve, supply "}),s.jsx(e.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"// Instructions for the Fusion Transaction"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    ]"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"  })"})})]})})]}),s.jsxs(e.div,{"data-depth":"4",children:[s.jsxs(e.h4,{id:"track-the-transaction",children:["Track the Transaction!",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#track-the-transaction",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),s.jsx(e.p,{children:`That's it - your single signature, multi-step transaction has been executed! Without needing
to move users to Smart Accounts.`}),s.jsxs(e.p,{children:["You can track the execution of the trigger transaction by tracking the ",s.jsx(e.code,{children:"hash"}),` on an EVM explorer.
To track the execution of the additional instructions - you can use the `,s.jsx(e.a,{href:"",children:"Biconomy MEE Explorer"})]})]})]}),`
`,s.jsxs(e.h2,{id:"single-signature-multi-chain-sequence-with-intents",children:["Single Signature Multi-Chain Sequence with Intents",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#single-signature-multi-chain-sequence-with-intents",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.p,{children:["This is achieved with the innovative ",s.jsx(e.a,{href:"",children:"Biconomy Fusion Module"}),". We'll be using ",s.jsx(e.a,{href:"",children:"AbstractJS"}),` to
encode a multi-chain Fusion transaction which will execute with a single user signature.`]}),`
`,s.jsxs(e.h3,{id:"transaction-steps",children:["Transaction steps:",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#transaction-steps",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.div,{"data-vocs-steps":"true",children:[s.jsxs(e.div,{"data-depth":"4",children:[s.jsxs(e.h4,{id:"executes-an-intent",children:["Executes an Intent",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#executes-an-intent",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),s.jsxs(e.p,{children:[`The first step is executing an intent which will move USDC from Optimism to Base. For this step,
Biconomy uses industry-leading providers, such as `,s.jsx(e.a,{href:"",children:"Across"})," or ",s.jsx(e.a,{href:"",children:"LiFi"})]})]}),s.jsx(e.div,{"data-depth":"4",children:s.jsxs(e.h4,{id:"approves",children:["Approves",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#approves",children:s.jsx(e.div,{"data-autolink-icon":!0})})]})})]}),`
`,s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0","data-title":"Fusion Transaction","data-lang":"ts",children:s.jsxs(e.code,{children:[s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"const"}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" tx"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" ="}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" "})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"  await"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" executeFusionTransaction"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"(meeClient, {"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    token: mcUSDC,"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    chain: optimism,"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    account: mcNexus,"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    amountUsed: "}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"parseUnits"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:"'100'"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"6"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"),"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    instructions: ["})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"      await"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" prepareIntent"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"({"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        account: mcNexus,"})}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        amount: "}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"parseUnits"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:"'100'"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"6"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"),"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        toChain: base,"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"        token: mcUSDC,"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"      }),"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"      mc"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    ]"})}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"  })"})})]})}),`
`,s.jsxs(e.h2,{id:"advanced-how-does-the-fusion-module-work",children:["Advanced: How Does the Fusion Module Work?",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#advanced-how-does-the-fusion-module-work",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.p,{children:[s.jsx(e.img,{src:"https://i.imgur.com/dVUmznn.png",alt:"Fusion Flow"}),`
Fusion transactions work by employing a `,s.jsx(e.a,{href:"",children:"Companion Smart Account"}),`. This account is invisible to the user
and is used by the Biconomy `,s.jsx(e.a,{href:"",children:"Superbundler"}),` to execute an arbitrary number of transactions, intents and
cross-chain operations.`]}),`
`,s.jsxs(e.p,{children:["It achieves this by employing the ",s.jsx(e.em,{children:"Fusion Packing Scheme"}),` which puts the hash of additional instructions
to be executed `,s.jsx(e.em,{children:"after"})," the regular ",s.jsx(e.code,{children:"callData"})," in an EVM transaction. This extra ",s.jsx(e.code,{children:"callData"}),` is ignored by the
contract and the EVM transaction is executed normally.`]}),`
`,s.jsxs(e.p,{children:["This first operation in a Fusion transaction is usually a simple ",s.jsx(e.code,{children:"transfer"}),` function which transfers the necessary
amount of an `,s.jsx(e.code,{children:"ERC20"}),` token to the Companion Account. When the user signs this transaction they are also signing the
hash which was appended after the regular `,s.jsx(e.code,{children:"callData"}),`. AbstractJS then sends all of the
instructions which need to be executed on the Companion account to the The Biconomy `,s.jsx(e.a,{href:"",children:"Superbundler"}),"."]}),`
`,s.jsxs(e.p,{children:["After the ",s.jsx(e.code,{children:"ERC20"})," token arrives to the Companion account, Tthe Superbundler then calls the ",s.jsx(e.code,{children:"execute"}),` function
on the Companion smart account to execute additional instructions. The Companion account will not allow any
transactions to be executed which were not `,s.jsx(e.em,{children:"explicity"})," contained in the hash which was appended after the ",s.jsx(e.code,{children:"callData"})]}),`
`,s.jsxs(e.p,{children:["In order to be able to execute those transactions, the ",s.jsx(e.code,{children:"Superbundler"}),` provides the full signed transaction
(called the trigger transaction) as the signature to the Companion smart account.`]})]})}function t(n={}){const{wrapper:e}={...a(),...n.components};return e?s.jsx(e,{...n,children:s.jsx(i,{...n})}):i(n)}export{t as default,l as frontmatter};
